!function(t){t.fn.popoutLabel=function(a){var e=t(this),o=!1,n=t.extend({targetForm:"form",targetContainer:".popout-container",targetInput:".popout-container > .popout-input",unvalidated:"<span></span>",validated:"<span></span>",popoutOnLoad:!0,inputOffset:0,textareaOffset:0,position:"top",easing:"bounce",animationDuration:500,animationEffect:"front",labelColor:"default",labelFontSize:"default",labelFontWeight:"default",labelLetterSpacing:"default",labelWordSpacing:"default",labelTextShadow:"default",labelColorTransition:[!0,!0],labelFontSizeTransition:[!0,!0],labelFontWeightTransition:[!0,!0],labelLetterSpacingTransition:[!0,!0],labelWordSpacingTransition:[!0,!0],labelTextShadowTransition:[!0,!0]},a);function i(a,e){if("focus"===e)a.val().trim()===a.data("placeholder")&&r(a);else if("blur"===e)if(""===a.val().trim()||a.val().trim()===a.data("placeholder"))!function(t){if(!0===o)return!1;var a,e=t.prev(".popout-label"),i=["transform"];a="bounce"===n.easing?"cubic-bezier(.30, -0.80, .80, .70)":n.easing;!0===n.labelColorTransition[1]&&i.push("color");!0===n.labelFontSizeTransition[1]&&i.push("font-size");!0===n.labelFontWeightTransition[1]&&i.push("font-weight");!0===n.labelLetterSpacingTransition[1]&&i.push("letter-spacing");!0===n.labelWordSpacingTransition[1]&&i.push("word-spacing");!0===n.labelTextShadowTransition[1]&&i.push("text-shadow");t.addClass("not-validated"),"textarea"===t.data("type")&&"front"===n.animationEffect&&e.css("z-index",1);e.removeClass("popout-on").css({"transition-property":i.toString(),"transition-duration":n.animationDuration+"ms","transition-timing-function":a,transform:"translateY(0)",color:t.css("color"),"font-size":t.css("font-size"),"font-weight":t.css("font-weight"),"letter-spacing":t.css("letter-spacing"),"word-spacing":t.css("word-spacing"),"text-shadow":t.css("text-shadow")}).find(".unvalidated, .validated").css("display","none"),setTimeout(function(){e.css("z-index",-1),"password"!==t.data("type")&&"confirm-password"!==t.data("type")||t.attr("type","text"),t.val(t.data("placeholder"))},n.animationDuration)}(a);else if("confirm-password"===a.data("type"))s(a.val()===t(n.targetForm).find("input[data-type='password']").val(),a);else{var i;switch(a.data("type")){case"email":i=void 0!==a.data("regex")?new RegExp(a.data("regex")):new RegExp("^[\\w!#$%&\\'*+\\/=?^`{|}~.-]+@(?:[a-z\\d][a-z\\d-]*(?:\\.[a-z\\d][a-z\\d-]*)?)+\\.(?:[a-z][a-z\\d-]+)$","i");break;default:i=void 0!==a.data("regex")?new RegExp(a.data("regex")):new RegExp(".{1,}")}if(s(i.test(a.val()),a),"password"===a.data("type")){var l=t(n.targetForm).find("input[data-type='confirm-password']");l.length&&l.prev(".popout-label").hasClass("popout-on")&&s(a.val()===l.val(),l)}}}function s(t,a){!0===t?(a.removeClass("not-validated"),a.prev(".popout-label").find(".unvalidated").css("display","none"),a.prev(".popout-label").find(".validated").css("display","inline-block")):(a.addClass("not-validated"),a.prev(".popout-label").find(".unvalidated").css("display","inline-block"),a.prev(".popout-label").find(".validated").css("display","none"))}function r(t){var a,e,o,i,s,r,l,d,p,c=t.prev(".popout-label");if(transitionProperty=["transform"],"textarea"===t.data("type"))switch(n.position){case"top":a=-1*(parseInt(t.css("line-height"))+parseInt(t.css("padding-top"))+parseInt(t.css("border-top-width"))+n.textareaOffset);break;case"bottom":a=t.outerHeight(!1)+n.textareaOffset;break;default:a=-1*(parseInt(t.css("line-height"))+parseInt(t.css("padding-top"))+parseInt(t.css("border-top-width"))+n.textareaOffset)}else switch(n.position){case"top":a=-1*(t.outerHeight(!1)+n.inputOffset);break;case"bottom":a=t.outerHeight(!1)+n.inputOffset;break;default:a=-1*t.outerHeight(!1)+n.inputOffset}e="bounce"===n.easing?"cubic-bezier(.30, .40, .70, 1.80)":n.easing,"front"===n.animationEffect?o=1:"behind"===n.animationEffect&&(o=0),i="default"===n.labelColor?t.css("color"):n.labelColor,s="default"===n.labelFontSize?t.css("font-size"):n.labelFontSize,r="default"===n.labelFontWeight?t.css("font-weight"):n.labelFontWeight,l="default"===n.labelLetterSpacing?t.css("letter-spacing"):n.labelLetterSpacing,d="default"===n.labelWordSpacing?t.css("word-spacing"):n.labelWordSpacing,p="default"===n.labelTextShadow?t.css("text-shadow"):n.labelTextShadow,!0===n.labelColorTransition[0]&&transitionProperty.push("color"),!0===n.labelFontSizeTransition[0]&&transitionProperty.push("font-size"),!0===n.labelFontWeightTransition[0]&&transitionProperty.push("font-weight"),!0===n.labelLetterSpacingTransition[0]&&transitionProperty.push("letter-spacing"),!0===n.labelWordSpacingTransition[0]&&transitionProperty.push("word-spacing"),!0===n.labelTextShadowTransition[0]&&transitionProperty.push("text-shadow"),c.addClass("popout-on").css({"transition-property":transitionProperty.toString(),"transition-duration":n.animationDuration+"ms","transition-timing-function":e,transform:"translateY("+a+"px)","z-index":o,color:i,"font-size":s,"font-weight":r,"letter-spacing":l,"word-spacing":d,"text-shadow":p}),"password"!==t.data("type")&&"confirm-password"!==t.data("type")||t.attr("type","password"),t.val(""),"textarea"===t.data("type")&&"front"===n.animationEffect&&setTimeout(function(){c.css("z-index",0)},n.animationDuration)}t(document).ready(function(){e.find(n.targetContainer).css("position","relative"),e.find(n.targetInput).addClass("not-validated").css({position:"absolute",top:0,left:0,width:"100%",height:"100%","z-index":0}).each(function(){var a=t(this),e=a.attr("id"),o=a.data("placeholder"),s=a.data("type"),r=t("<label class='popout-label'></label>"),l=[t(n.unvalidated).addClass("unvalidated").css("display","none"),t(n.validated).addClass("validated").css("display","none")];r.attr("for",e).text(o).css({position:"absolute",top:0,left:0,width:"100%",height:"100%",padding:a.css("padding-top")+" "+a.css("padding-right")+" "+a.css("padding-bottom")+" "+a.css("padding-left"),"border-width":a.css("border-top-width")+" "+a.css("border-right-width")+" "+a.css("border-bottom-width")+" "+a.css("border-left-width"),"border-style":a.css("border-top-style")+" "+a.css("border-right-style")+" "+a.css("border-bottom-style")+" "+a.css("border-left-style"),"border-color":"transparent","border-radius":a.css("border-top-left-radius")+" "+a.css("border-top-right-radius")+" "+a.css("border-bottom-right-radius")+" "+a.css("border-bottom-left-radius"),margin:0,"background-color":"transparent",color:a.css("color"),font:a.css("font-style")+" "+a.css("font-variant")+" "+a.css("font-weight")+" "+a.css("font-size")+"/"+a.css("line-height")+" "+a.css("font-family"),"text-align":a.css("text-align"),"letter-spacing":a.css("letter-spacing"),"word-spacing":a.css("word-spacing"),"text-shadow":a.css("text-shadow"),"z-index":-1,cursor:"pointer"}).append(l).insertBefore(a),"password"!==s&&"confirm-password"!==s||a.attr("type","text"),a.val(o),a.on("focus blur",function(t){i(a,t.type)})}),!0===n.popoutOnLoad&&t(window).on("load",function(){e.find(n.targetInput).each(function(){r(t(this))})}),t(".popout-label").click(function(a){t(this).next(".popout-input").val().trim().length<1&&a.preventDefault()}),t(n.targetForm).find("input[type='submit']").mousedown(function(){o=!0}).mouseup(function(){o=!1}),t(n.targetForm).submit(function(a){t(this).find(n.targetInput).hasClass("not-validated")?(t(this).find(n.targetInput).each(function(){t(this).hasClass("not-validated")&&(r(t(this)),t(this).prev(".popout-label").find(".unvalidated").css("display","inline-block"))}),a.preventDefault()):t(this).find("input[type='submit']").prop("disabled",!0)})})}}(jQuery);